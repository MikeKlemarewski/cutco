<!DOCTYPE html>
<html>
<head>
<title>What kind of animal is your website?</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen" />
<link href="/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div class="navbar navbar-inverse">
  <div class="navbar-inner">
  <div class="container">
    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </a>
     
    <!-- Be sure to leave the brand out there if you want it shown -->
    <a class="brand" href="#">Project name</a>
     
    <!-- Everything you want hidden at 940px or less, place within here -->
    <div class="nav-collapse collapse">
      <!-- .nav, .navbar-search, .navbar-form, etc -->
      <label class="control-label" >Enter the url of your website</label>
      <div class="input-append">
        <input class="span2" id="site-address" value="www.yourwebsite.com" type="text">
        <button class="btn btn-primary" type="button" id="go-button">GO Â»</button>
      </div>
    </div>
  </div>
  </div>
  </div>
  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      var processData = function() {
        
      };
      var getData = function() {
        // window.location.href = "/leaderboard/";
        var siteAddress = $('#site-address').val();
        $.ajax({
          type: 'POST',
          url: "http://" + location.host + "/",
          dataType: 'json',
          timeout: 30000,
          data: {
              "url": siteAddress
          },
          success: function(data){
            //TODO
            tmpAll = [
              {url: "yoursiteurl.com", size: 1200, rank: 104},
              {url: "regerhteurl.com", size: 2200, rank: 104},
              {url: "sdfgdsfhgrl.com", size: 1300, rank: 104},
              {url: "yourggggggl.com", size: 1240, rank: 104},
            ];
            processCurrent(tmpCurrent);
            processAll(tmpAll);
          },
          error: function(err){
            console.log("Error happened: ", err);
          }
        });
      };

      $('#site-address').bind("enterKey",function(e){
        getData();
      });
      $('#site-address').keyup(function(e){
        if(e.keyCode == 13) {
          $(this).trigger("enterKey");
        }
      });
      $('#go-button').click(function() {
        getData();
      });
    });
  </script>
</body>

</html>
